{"ast":null,"code":"var _jsxFileName = \"/home/prachi/workspace/LinkedIn-Clone/LinkedIn-Clone-React/linkedin_react/src/components/Profile/AddProfilePic.js\";\nimport React, { Component } from \"react\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { Modal, Button, Form } from \"react-bootstrap\";\nimport CameraAltRoundedIcon from \"@material-ui/icons/CameraAltRounded\";\nimport { Avatar } from \"@material-ui/core\";\nimport \"./AddProfilePic.css\";\nimport { withCookies } from \"react-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class AddProfilePic extends Component {\n  constructor(props) {\n    super(props);\n\n    this.removeImage = () => {\n      this.setState({\n        profile_pic: \"\",\n        profile_picAsFile: null\n      });\n    };\n\n    this.handleProfilePic = e => {\n      this.setState({\n        profile_pic: URL.createObjectURL(e.target.files[0]),\n        profile_picAsFile: e.target.files[0]\n      }, function () {\n        var form_data = new FormData();\n\n        if (this.state.profile_picAsFile) {\n          form_data.set(\"profile_pic\", this.state.profile_picAsFile, this.state.profile_picAsFile.name);\n        }\n\n        console.log(this.props.cookies.get(\"auth-token\").token);\n        fetch(`${process.env.REACT_APP_API_URL}/uapi/users/${this.props.cookies.get(\"auth-token\").user.id}/update_user/`, {\n          method: \"PUT\",\n          headers: {\n            Authorization: `Token ${this.props.cookies.get(\"auth-token\").token}`\n          },\n          body: form_data\n        }).then(res => res.json()).then(res => {\n          this.setState({\n            modalShow: false\n          });\n          console.log(\"response\", res);\n        }).catch(err => console.log(err));\n      });\n    };\n\n    this.state = {\n      modalShow: true,\n      profile_pic: this.props.profile_pic,\n      profile_picAsFile: this.props.profile_picAsFile\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-auto\",\n      children: /*#__PURE__*/_jsxDEV(Modal, {\n        className: \"my-modal\",\n        style: {\n          height: \"700px\",\n          color: \"white\"\n        },\n        scrollable: true,\n        show: this.state.modalShow,\n        size: \"md\",\n        \"aria-labelledby\": \"contained-modal-title-vcenter\",\n        centered: true,\n        onHide: () => this.setState({\n          modalShow: false\n        }),\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          autoFocus: true,\n          style: {\n            borderBottom: \"0 none\"\n          } // onClick={() => this.setState({ modalShow: false })}\n          ,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            style: {\n              fontSize: \"1.2rem\",\n              color: \"white\"\n            },\n            id: \"contained-modal-title-vcenter\",\n            children: \"Profile Photo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: /*#__PURE__*/_jsxDEV(Avatar, {\n            className: \"m-auto\",\n            style: {\n              width: \"250px\",\n              height: \"250px\",\n              borderRadius: \"50%\"\n            },\n            src: this.state.profile_pic,\n            alt: \"Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          style: {\n            borderTopColor: \"gray\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            style: {\n              display: \"none\"\n            },\n            type: \"file\",\n            id: \"file\",\n            onChange: e => this.handleProfilePic(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"mr-auto\",\n            htmlFor: \"file\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              style: profile_button\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DeleteIcon, {\n            style: {\n              color: \"white\"\n            },\n            onClick: this.removeImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nconst profile_button = {\n  paddingLeft: \"20px\",\n  paddingRight: \"20px\",\n  marginTop: \"10px\",\n  marginLeft: \"10px\",\n  fontWeight: \"bold\",\n  borderRadius: \"50px\",\n  display: \"flex\",\n  color: \"#0c66c2\",\n  border: \"solid 1px #0c66c2\"\n};\nexport default _c = withCookies(AddProfilePic);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/prachi/workspace/LinkedIn-Clone/LinkedIn-Clone-React/linkedin_react/src/components/Profile/AddProfilePic.js"],"names":["React","Component","DeleteIcon","Modal","Button","Form","CameraAltRoundedIcon","Avatar","withCookies","AddProfilePic","constructor","props","removeImage","setState","profile_pic","profile_picAsFile","handleProfilePic","e","URL","createObjectURL","target","files","form_data","FormData","state","set","name","console","log","cookies","get","token","fetch","process","env","REACT_APP_API_URL","user","id","method","headers","Authorization","body","then","res","json","modalShow","catch","err","render","height","color","borderBottom","fontSize","width","borderRadius","borderTopColor","display","profile_button","paddingLeft","paddingRight","marginTop","marginLeft","fontWeight","border"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { Modal, Button, Form } from \"react-bootstrap\";\nimport CameraAltRoundedIcon from \"@material-ui/icons/CameraAltRounded\";\nimport { Avatar } from \"@material-ui/core\";\nimport \"./AddProfilePic.css\";\nimport { withCookies } from \"react-cookie\";\n\nexport class AddProfilePic extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      modalShow: true,\n      profile_pic: this.props.profile_pic,\n      profile_picAsFile: this.props.profile_picAsFile,\n    };\n  }\n\n  removeImage = () => {\n    this.setState({\n      profile_pic: \"\",\n      profile_picAsFile: null,\n    });\n  };\n\n  handleProfilePic = (e) => {\n    this.setState(\n      {\n        profile_pic: URL.createObjectURL(e.target.files[0]),\n        profile_picAsFile: e.target.files[0],\n      },\n      function () {\n        var form_data = new FormData();\n\n        if (this.state.profile_picAsFile) {\n          form_data.set(\n            \"profile_pic\",\n            this.state.profile_picAsFile,\n            this.state.profile_picAsFile.name\n          );\n        }\n        console.log(this.props.cookies.get(\"auth-token\").token);\n        fetch(\n          `${process.env.REACT_APP_API_URL}/uapi/users/${\n            this.props.cookies.get(\"auth-token\").user.id\n          }/update_user/`,\n          {\n            method: \"PUT\",\n            headers: {\n              Authorization: `Token ${\n                this.props.cookies.get(\"auth-token\").token\n              }`,\n            },\n            body: form_data,\n          }\n        )\n          .then((res) => res.json())\n          .then((res) => {\n            this.setState({ modalShow: false });\n            console.log(\"response\", res);\n          })\n          .catch((err) => console.log(err));\n      }\n    );\n  };\n\n  render() {\n    return (\n      <div className=\"p-auto\">\n        <Modal\n          className=\"my-modal\"\n          style={{\n            height: \"700px\",\n            color: \"white\",\n          }}\n          scrollable={true}\n          show={this.state.modalShow}\n          size=\"md\"\n          aria-labelledby=\"contained-modal-title-vcenter\"\n          centered\n          onHide={() => this.setState({ modalShow: false })}\n        >\n          <Modal.Header\n            closeButton\n            autoFocus\n            style={{ borderBottom: \"0 none\" }}\n            // onClick={() => this.setState({ modalShow: false })}\n          >\n            <Modal.Title\n              style={{\n                fontSize: \"1.2rem\",\n                color: \"white\",\n              }}\n              id=\"contained-modal-title-vcenter\"\n            >\n              Profile Photo\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Avatar\n              className=\"m-auto\"\n              style={{ width: \"250px\", height: \"250px\", borderRadius: \"50%\" }}\n              src={this.state.profile_pic}\n              alt=\"Profile\"\n            />\n          </Modal.Body>\n\n          <Modal.Footer style={{ borderTopColor: \"gray\" }}>\n            <input\n              style={{ display: \"none\" }}\n              type=\"file\"\n              id=\"file\"\n              onChange={(e) => this.handleProfilePic(e)}\n            />\n            <label className=\"mr-auto\" htmlFor=\"file\">\n              <Button style={profile_button} />\n            </label>\n            <DeleteIcon style={{ color: \"white\" }} onClick={this.removeImage} />\n          </Modal.Footer>\n        </Modal>\n      </div>\n    );\n  }\n}\nconst profile_button = {\n  paddingLeft: \"20px\",\n  paddingRight: \"20px\",\n  marginTop: \"10px\",\n  marginLeft: \"10px\",\n  fontWeight: \"bold\",\n  borderRadius: \"50px\",\n  display: \"flex\",\n  color: \"#0c66c2\",\n  border: \"solid 1px #0c66c2\",\n};\n\nexport default withCookies(AddProfilePic);\n"]},"metadata":{},"sourceType":"module"}