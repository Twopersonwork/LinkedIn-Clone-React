{"ast":null,"code":"var _jsxFileName = \"/home/prachi/workspace/LinkedIn-Clone/LinkedIn-Clone-React/linkedin_react/src/components/Profile/AddCoverPic.js\";\nimport React, { Component } from \"react\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { Modal } from \"react-bootstrap\";\nimport CameraAltRoundedIcon from \"@material-ui/icons/CameraAltRounded\";\nimport { Avatar, Button } from \"@material-ui/core\";\nimport \"./AddProfilePic.css\";\nimport { withCookies } from \"react-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class AddProfilePic extends Component {\n  constructor(props) {\n    super(props);\n\n    this.removeImage = () => {\n      if (this.state.cover_pic.split(\"/\")[this.state.cover_pic.split(\"/\").length - 2] == \"defaults\") {\n        this.setState({\n          cover_pic: \"\"\n        });\n      } else {\n        this.setState({\n          modalCoverDelete: true\n        });\n      }\n    };\n\n    this.handleCoverPic = () => {\n      // console.log(window.location.origin + \"/images/user.svg\");\n      var form_data = new FormData();\n\n      if (this.state.cover_picAsFile) {\n        form_data.set(\"cover_pic\", this.state.cover_picAsFile, this.state.cover_picAsFile.name);\n      }\n\n      console.log(this.props.cookies.get(\"auth-token\").token);\n      fetch(`${process.env.REACT_APP_API_URL}/uapi/users/${this.props.cookies.get(\"auth-token\").user.id}/update_user/`, {\n        method: \"PUT\",\n        headers: {\n          Authorization: `Token ${this.props.cookies.get(\"auth-token\").token}`\n        },\n        body: form_data\n      }).then(res => res.json()).then(res => {\n        this.setState({\n          modalCoverShow: false\n        });\n        window.location.reload();\n        console.log(\"response\", res);\n      }).catch(err => console.log(err));\n    };\n\n    this.handleDelete = () => {\n      fetch(`${process.env.REACT_APP_API_URL}/uapi/users/${this.props.cookies.get(\"auth-token\").user.id}/delete_cover_pic/`, {\n        method: \"DELETE\",\n        headers: {\n          Authorization: `Token ${this.props.cookies.get(\"auth-token\").token}`\n        }\n      }).then(res => res.json()).then(res => {\n        this.setState({\n          modalCoverDelete: false,\n          modalCoverShow: false\n        });\n        window.location.reload();\n        console.log(\"response\", res);\n      }).catch(err => console.log(err));\n    };\n\n    this.state = {\n      modalCoverShow: true,\n      modalCoverDelete: false,\n      cover_pic: this.props.cover_pic,\n      cover_picAsFile: null\n    };\n  }\n\n  render() {\n    console.log(this.props.cover_pic.split(\"/\")[this.props.cover_pic.split(\"/\").length - 2]);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-auto\",\n      children: [/*#__PURE__*/_jsxDEV(Modal, {\n        style: {\n          height: \"700px\"\n        },\n        scrollable: true,\n        show: this.state.modalCoverShow,\n        size: \"lg\",\n        \"aria-labelledby\": \"contained-modal-title-vcenter\",\n        centered: true,\n        onHide: () => this.setState({\n          modalCoverShow: false\n        }),\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          autoFocus: true,\n          style: {\n            borderBottom: \"0 none\"\n          } // onClick={() => this.setState({ modalCoverShow: false })}\n          ,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            style: {\n              fontSize: \"1.2rem\"\n            },\n            id: \"contained-modal-title-vcenter\",\n            children: \"Cover Photo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"m-auto\",\n            style: {\n              width: \"100%\",\n              height: \"250px\",\n              objectFit: \"cover\"\n            },\n            src: this.state.cover_pic,\n            alt: \"Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          style: {\n            borderTopColor: \"gray\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            style: {\n              display: \"none\"\n            },\n            type: \"file\",\n            id: \"file\",\n            onChange: e => this.setState({\n              cover_pic: URL.createObjectURL(e.target.files[0]),\n              cover_picAsFile: e.target.files[0]\n            }, function () {\n              console.log(\"file\", e.target.files[0], URL.createObjectURL(e.target.files[0]));\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"file\",\n            children: [/*#__PURE__*/_jsxDEV(CameraAltRoundedIcon, {\n              className: \"ml-4\",\n              style: {\n                marginLeft: \"10px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Add Photo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mr-auto ml-3\",\n            children: this.state.cover_pic.split(\"/\")[this.state.cover_pic.split(\"/\").length - 2] != \"defaults\" ? /*#__PURE__*/_jsxDEV(React.Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(DeleteIcon, {\n                className: \"ml-2\",\n                onClick: this.removeImage\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 17\n            }, this) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: this.handleCoverPic,\n            style: post_button,\n            children: \"Upload Photo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), this.state.cover_pic ? /*#__PURE__*/_jsxDEV(Modal, {\n        show: this.state.modalCoverDelete,\n        size: \"sm\",\n        \"aria-labelledby\": \"contained-modal-title-vcenter\",\n        onHide: () => this.setState({\n          modalCoverDelete: false\n        }),\n        style: {\n          background: \"rgba(0,0,0,0.3)\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          autoFocus: true,\n          children: \"Delete?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          style: {\n            padding: \"0px\",\n            borderRadius: \"60px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"m-auto p-2 pb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: \"0.8rem\",\n                lineHeight: \"0.5\",\n                color: \"rgba(0,0,0,0.6)\"\n              },\n              children: \"Are you sure you want to remove this cover picture from LinkedIn?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => this.setState({\n                modalCoverDelete: false\n              }),\n              style: cancel_button,\n              type: \"submit\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: this.handleDelete,\n              style: delete_button,\n              type: \"submit\",\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nconst post_button = {\n  marginTop: \"-10px\",\n  paddingLeft: \"10px\",\n  paddingRight: \"10px\",\n  marginLeft: \"10px\",\n  fontWeight: \"bold\",\n  borderRadius: \"50px\",\n  fontSize: \"15px\",\n  // display: \"flex\",\n  background: \"#0c66c2\",\n  color: \"white\",\n  border: \"solid 1px #0c66c2\" //   width: \"110px\",\n\n};\nconst delete_button = {\n  paddingLeft: \"20px\",\n  paddingRight: \"20px\",\n  marginTop: \"10px\",\n  marginLeft: \"5px\",\n  fontWeight: \"bold\",\n  borderRadius: \"50px\",\n  display: \"flex\",\n  background: \"#0c66c2\",\n  color: \"white\",\n  border: \"solid 1px #0c66c2\",\n  fontSize: \"16px\"\n};\nconst cancel_button = {\n  paddingLeft: \"20px\",\n  paddingRight: \"20px\",\n  marginTop: \"10px\",\n  marginLeft: \"10px\",\n  fontWeight: \"bold\",\n  borderRadius: \"50px\",\n  display: \"flex\",\n  background: \"white\",\n  color: \"rgba(0,0,0,0.6)\",\n  border: \"solid 1px black\",\n  fontSize: \"16px\"\n};\nexport default _c = withCookies(AddProfilePic);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/home/prachi/workspace/LinkedIn-Clone/LinkedIn-Clone-React/linkedin_react/src/components/Profile/AddCoverPic.js"],"names":["React","Component","DeleteIcon","Modal","CameraAltRoundedIcon","Avatar","Button","withCookies","AddProfilePic","constructor","props","removeImage","state","cover_pic","split","length","setState","modalCoverDelete","handleCoverPic","form_data","FormData","cover_picAsFile","set","name","console","log","cookies","get","token","fetch","process","env","REACT_APP_API_URL","user","id","method","headers","Authorization","body","then","res","json","modalCoverShow","window","location","reload","catch","err","handleDelete","render","height","borderBottom","fontSize","width","objectFit","borderTopColor","display","e","URL","createObjectURL","target","files","marginLeft","post_button","background","padding","borderRadius","lineHeight","color","cancel_button","delete_button","marginTop","paddingLeft","paddingRight","fontWeight","border"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport { Modal } from \"react-bootstrap\";\nimport CameraAltRoundedIcon from \"@material-ui/icons/CameraAltRounded\";\nimport { Avatar, Button } from \"@material-ui/core\";\nimport \"./AddProfilePic.css\";\nimport { withCookies } from \"react-cookie\";\n\nexport class AddProfilePic extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      modalCoverShow: true,\n      modalCoverDelete: false,\n      cover_pic: this.props.cover_pic,\n      cover_picAsFile: null,\n    };\n  }\n\n  removeImage = () => {\n    if (\n      this.state.cover_pic.split(\"/\")[\n        this.state.cover_pic.split(\"/\").length - 2\n      ] == \"defaults\"\n    ) {\n      this.setState({ cover_pic: \"\" });\n    } else {\n      this.setState({\n        modalCoverDelete: true,\n      });\n    }\n  };\n\n  handleCoverPic = () => {\n    // console.log(window.location.origin + \"/images/user.svg\");\n    var form_data = new FormData();\n\n    if (this.state.cover_picAsFile) {\n      form_data.set(\n        \"cover_pic\",\n        this.state.cover_picAsFile,\n        this.state.cover_picAsFile.name\n      );\n    }\n    console.log(this.props.cookies.get(\"auth-token\").token);\n    fetch(\n      `${process.env.REACT_APP_API_URL}/uapi/users/${\n        this.props.cookies.get(\"auth-token\").user.id\n      }/update_user/`,\n      {\n        method: \"PUT\",\n        headers: {\n          Authorization: `Token ${this.props.cookies.get(\"auth-token\").token}`,\n        },\n        body: form_data,\n      }\n    )\n      .then((res) => res.json())\n      .then((res) => {\n        this.setState({ modalCoverShow: false });\n        window.location.reload();\n        console.log(\"response\", res);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  handleDelete = () => {\n    fetch(\n      `${process.env.REACT_APP_API_URL}/uapi/users/${\n        this.props.cookies.get(\"auth-token\").user.id\n      }/delete_cover_pic/`,\n      {\n        method: \"DELETE\",\n        headers: {\n          Authorization: `Token ${this.props.cookies.get(\"auth-token\").token}`,\n        },\n      }\n    )\n      .then((res) => res.json())\n      .then((res) => {\n        this.setState({ modalCoverDelete: false, modalCoverShow: false });\n        window.location.reload();\n        console.log(\"response\", res);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  render() {\n    console.log(\n      this.props.cover_pic.split(\"/\")[\n        this.props.cover_pic.split(\"/\").length - 2\n      ]\n    );\n    return (\n      <div className=\"p-auto\">\n        <Modal\n          style={{\n            height: \"700px\",\n          }}\n          scrollable={true}\n          show={this.state.modalCoverShow}\n          size=\"lg\"\n          aria-labelledby=\"contained-modal-title-vcenter\"\n          centered\n          onHide={() => this.setState({ modalCoverShow: false })}\n        >\n          <Modal.Header\n            closeButton\n            autoFocus\n            style={{ borderBottom: \"0 none\" }}\n            // onClick={() => this.setState({ modalCoverShow: false })}\n          >\n            <Modal.Title\n              style={{\n                fontSize: \"1.2rem\",\n              }}\n              id=\"contained-modal-title-vcenter\"\n            >\n              Cover Photo\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <img\n              className=\"m-auto\"\n              style={{ width: \"100%\", height: \"250px\", objectFit: \"cover\" }}\n              src={this.state.cover_pic}\n              alt=\"Profile\"\n            />\n          </Modal.Body>\n\n          <Modal.Footer style={{ borderTopColor: \"gray\" }}>\n            <input\n              style={{ display: \"none\" }}\n              type=\"file\"\n              id=\"file\"\n              onChange={(e) =>\n                this.setState(\n                  {\n                    cover_pic: URL.createObjectURL(e.target.files[0]),\n                    cover_picAsFile: e.target.files[0],\n                  },\n                  function () {\n                    console.log(\n                      \"file\",\n                      e.target.files[0],\n                      URL.createObjectURL(e.target.files[0])\n                    );\n                  }\n                )\n              }\n            />\n            <label htmlFor=\"file\">\n              <CameraAltRoundedIcon\n                className=\"ml-4\"\n                style={{ marginLeft: \"10px\" }}\n              />\n              <div>\n                <span>Add Photo</span>\n              </div>\n            </label>\n            <div className=\"mr-auto ml-3\">\n              {this.state.cover_pic.split(\"/\")[\n                this.state.cover_pic.split(\"/\").length - 2\n              ] != \"defaults\" ? (\n                <React.Fragment>\n                  <DeleteIcon className=\"ml-2\" onClick={this.removeImage} />\n                  <div>\n                    <span>Delete</span>\n                  </div>\n                </React.Fragment>\n              ) : null}\n            </div>\n            <Button onClick={this.handleCoverPic} style={post_button}>\n              Upload Photo\n            </Button>\n          </Modal.Footer>\n        </Modal>\n        {this.state.cover_pic ? (\n          <Modal\n            show={this.state.modalCoverDelete}\n            size=\"sm\"\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            onHide={() => this.setState({ modalCoverDelete: false })}\n            style={{\n              background: \"rgba(0,0,0,0.3)\",\n            }}\n          >\n            <Modal.Header closeButton autoFocus>\n              Delete?\n            </Modal.Header>\n\n            <Modal.Body\n              style={{\n                padding: \"0px\",\n                borderRadius: \"60px\",\n              }}\n            >\n              <div className=\"m-auto p-2 pb-3\">\n                <span\n                  style={{\n                    fontSize: \"0.8rem\",\n                    lineHeight: \"0.5\",\n                    color: \"rgba(0,0,0,0.6)\",\n                  }}\n                >\n                  Are you sure you want to remove this cover picture from\n                  LinkedIn?\n                </span>\n              </div>\n              <Modal.Footer>\n                <Button\n                  onClick={() => this.setState({ modalCoverDelete: false })}\n                  style={cancel_button}\n                  type=\"submit\"\n                >\n                  Cancel\n                </Button>\n\n                <Button\n                  onClick={this.handleDelete}\n                  style={delete_button}\n                  type=\"submit\"\n                >\n                  Delete\n                </Button>\n              </Modal.Footer>\n            </Modal.Body>\n          </Modal>\n        ) : null}\n      </div>\n    );\n  }\n}\nconst post_button = {\n  marginTop: \"-10px\",\n  paddingLeft: \"10px\",\n  paddingRight: \"10px\",\n  marginLeft: \"10px\",\n  fontWeight: \"bold\",\n  borderRadius: \"50px\",\n  fontSize: \"15px\",\n  // display: \"flex\",\n  background: \"#0c66c2\",\n  color: \"white\",\n  border: \"solid 1px #0c66c2\",\n  //   width: \"110px\",\n};\nconst delete_button = {\n  paddingLeft: \"20px\",\n  paddingRight: \"20px\",\n  marginTop: \"10px\",\n  marginLeft: \"5px\",\n  fontWeight: \"bold\",\n  borderRadius: \"50px\",\n  display: \"flex\",\n  background: \"#0c66c2\",\n  color: \"white\",\n  border: \"solid 1px #0c66c2\",\n  fontSize: \"16px\",\n};\nconst cancel_button = {\n  paddingLeft: \"20px\",\n  paddingRight: \"20px\",\n  marginTop: \"10px\",\n  marginLeft: \"10px\",\n  fontWeight: \"bold\",\n  borderRadius: \"50px\",\n  display: \"flex\",\n  background: \"white\",\n  color: \"rgba(0,0,0,0.6)\",\n  border: \"solid 1px black\",\n  fontSize: \"16px\",\n};\n\nexport default withCookies(AddProfilePic);\n"]},"metadata":{},"sourceType":"module"}