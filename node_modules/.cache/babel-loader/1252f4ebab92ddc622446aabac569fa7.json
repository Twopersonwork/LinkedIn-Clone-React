{"ast":null,"code":"var _jsxFileName = \"/home/prachi/workspace/LinkedIn-Clone/LinkedIn-Clone-React/linkedin_react/src/components/Feed/CreatePost.js\";\nimport React, { Component } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class CreatePost extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleBody = e => this.setState({\n      body: e.target.value\n    }, function () {\n      console.log(this.state.body);\n    });\n\n    this.submitPost = () => {\n      var form_data = new FormData();\n      form_data.set(\"body\", this.state.body);\n      form_data.set(\"image\", this.state.imageAsFile, this.state.imageAsFile.name);\n      console.log(form_data);\n      fetch(`${process.env.REACT_APP_API_URL}/papi/create_post/`, {\n        method: \"POST\",\n        headers: {\n          Authorization: `Token ${this.props.cookies.get(\"auth-token\").token}`\n        },\n        body: form_data\n      }).then(res => res.json()).then(res => {\n        this.setState({\n          modalPost: false\n        }, function () {\n          window.location.reload();\n        });\n        console.log(res.data);\n      }).catch(err => console.log(err));\n    };\n\n    this.state = {\n      modalPost: this.props.modalPost1,\n      body: \"\",\n      image: \"\",\n      imageAsFile: null\n    };\n  }\n\n  render() {\n    console.log(this.props.modalPost1, this.state.modalPost);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: this.state.modalPost ? /*#__PURE__*/_jsxDEV(Modal, {\n        show: this.state.modalPost,\n        size: \"md\",\n        \"aria-labelledby\": \"contained-modal-title-vcenter\",\n        centered: true,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          onClick: () => {\n            this.setState({\n              modalPost: false\n            });\n          },\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            id: \"contained-modal-title-vcenter\",\n            children: \"Create a Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"What do you want to talk about?\" // value={this.state.body}\n            ,\n            onChange: this.handleBody\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this), this.state.image ? /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"post__image\",\n            src: this.state.image\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            disabled: this.state.body.length < 1,\n            type: \"submit\",\n            onClick: this.submitPost,\n            children: \"Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            id: \"file\" // value={this.state.image}\n            ,\n            onChange: e => this.setState({\n              image: URL.createObjectURL(e.target.files[0]),\n              imageAsFile: e.target.files[0]\n            }, console.log(this.state.image))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nexport default CreatePost;","map":{"version":3,"sources":["/home/prachi/workspace/LinkedIn-Clone/LinkedIn-Clone-React/linkedin_react/src/components/Feed/CreatePost.js"],"names":["React","Component","Modal","Button","CreatePost","constructor","props","handleBody","e","setState","body","target","value","console","log","state","submitPost","form_data","FormData","set","imageAsFile","name","fetch","process","env","REACT_APP_API_URL","method","headers","Authorization","cookies","get","token","then","res","json","modalPost","window","location","reload","data","catch","err","modalPost1","image","render","length","URL","createObjectURL","files"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\n\nexport class CreatePost extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      modalPost: this.props.modalPost1,\n      body: \"\",\n      image: \"\",\n      imageAsFile: null,\n    };\n  }\n  handleBody = (e) =>\n    this.setState({ body: e.target.value }, function () {\n      console.log(this.state.body);\n    });\n\n  submitPost = () => {\n    var form_data = new FormData();\n\n    form_data.set(\"body\", this.state.body);\n    form_data.set(\"image\", this.state.imageAsFile, this.state.imageAsFile.name);\n\n    console.log(form_data);\n    fetch(`${process.env.REACT_APP_API_URL}/papi/create_post/`, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Token ${this.props.cookies.get(\"auth-token\").token}`,\n      },\n      body: form_data,\n    })\n      .then((res) => res.json())\n      .then((res) => {\n        this.setState({ modalPost: false }, function () {\n          window.location.reload();\n        });\n\n        console.log(res.data);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  render() {\n    console.log(this.props.modalPost1, this.state.modalPost);\n    return (\n      <div>\n        {this.state.modalPost ? (\n          <Modal\n            show={this.state.modalPost}\n            size=\"md\"\n            aria-labelledby=\"contained-modal-title-vcenter\"\n            centered\n          >\n            <Modal.Header\n              closeButton\n              onClick={() => {\n                this.setState({ modalPost: false });\n              }}\n            >\n              <Modal.Title id=\"contained-modal-title-vcenter\">\n                Create a Post\n              </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n              {/* <p>\n                Cras mattis consectetur purus sit amet fermentum. Cras justo\n                odio, dapibus ac facilisis in, egestas eget quam. Morbi leo\n                risus, porta ac consectetur ac, vestibulum at eros.\n              </p> */}\n              <input\n                placeholder=\"What do you want to talk about?\"\n                // value={this.state.body}\n                onChange={this.handleBody}\n              />\n              {this.state.image ? (\n                <img className=\"post__image\" src={this.state.image} />\n              ) : null}\n            </Modal.Body>\n            <Modal.Footer>\n              <Button\n                disabled={this.state.body.length < 1}\n                type=\"submit\"\n                onClick={this.submitPost}\n              >\n                Post\n              </Button>\n              <input\n                type=\"file\"\n                id=\"file\"\n                // value={this.state.image}\n\n                onChange={(e) =>\n                  this.setState(\n                    {\n                      image: URL.createObjectURL(e.target.files[0]),\n                      imageAsFile: e.target.files[0],\n                    },\n                    console.log(this.state.image)\n                  )\n                }\n              />\n            </Modal.Footer>\n          </Modal>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default CreatePost;\n"]},"metadata":{},"sourceType":"module"}