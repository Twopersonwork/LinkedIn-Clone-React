{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport { useEffect } from \"react\";\nimport { ResizeObserver } from \"@juggle/resize-observer\";\n/**\n * @internal\n */\n\nvar isRefTarget = function (target) {\n  return !!target && typeof target.current !== \"undefined\";\n};\n/**\n * @internal\n */\n\n\nvar isFunctionTarget = function (target) {\n  return typeof target === \"function\";\n};\n/**\n * A utility function to get the current resize observer element.\n *\n * @internal\n */\n\n\nexport function getResizeObserverTarget(target) {\n  if (isRefTarget(target)) {\n    return target.current;\n  }\n\n  if (isFunctionTarget(target)) {\n    return target();\n  }\n\n  if (typeof target === \"string\") {\n    return document.querySelector(target);\n  }\n\n  return target;\n}\n/**\n *\n * @internal\n */\n\nexport function isHeightChange(prevSize, nextSize) {\n  return !prevSize || prevSize.height !== nextSize.height || prevSize.scrollHeight !== nextSize.scrollHeight;\n}\n/**\n *\n * @internal\n */\n\nexport function isWidthChange(prevSize, nextSize) {\n  return !prevSize || prevSize.width !== nextSize.width || prevSize.scrollWidth !== nextSize.scrollWidth;\n}\n/**\n * @internal\n */\n\nexport var warnedOnce = {\n  hook: false,\n  comp: false\n};\n/**\n * A hook that is used to trigger esize events when a target element is resized\n * via CSS or other changes.\n *\n * @param options - The resize observer options.\n * @deprecated 2.3.0 Use the new ref API instead\n */\n\nexport function useResizeObserverV1(_a) {\n  var _b;\n\n  var _c = _a.disableHeight,\n      disableHeight = _c === void 0 ? false : _c,\n      _d = _a.disableWidth,\n      disableWidth = _d === void 0 ? false : _d,\n      onResize = _a.onResize,\n      target = _a.target;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var stack = (_b = new Error().stack) !== null && _b !== void 0 ? _b : \"\";\n    var isComp = stack.includes(\"at ResizeObserver \");\n    var key = isComp ? \"comp\" : \"hook\";\n\n    if (!warnedOnce[key]) {\n      warnedOnce[key] = true;\n      var message = void 0;\n\n      if (isComp) {\n        message = \"The `ResizeObserver` component has been deprecated in favor of the new `useResizeObserver` hook using the `ref` API.\";\n      } else {\n        message = \"The `useResizeObserver` hook has deprecated the ability to use an object containing a `target` and `onResize` callback.\";\n        message = message + \" Switch to the new `ref` API by setting the `onResize` callback as the first argument.\";\n      } // eslint-disable-next-line no-console\n\n\n      console.warn(message + \" Please see https://github.com/mlaursen/react-md/pull/940 for more details.\");\n    }\n  }\n\n  useEffect(function () {\n    if (disableHeight && disableWidth) {\n      return;\n    }\n\n    var resizeTarget = getResizeObserverTarget(target);\n\n    if (!resizeTarget) {\n      return;\n    }\n\n    var prevSize;\n    var observer = new ResizeObserver(function (entries) {\n      for (var i = 0; i < entries.length; i += 1) {\n        var entry = entries[i];\n        var target_1 = entry.target;\n        var _a = entry.contentRect,\n            height = _a.height,\n            width = _a.width;\n        var scrollHeight = target_1.scrollHeight,\n            scrollWidth = target_1.scrollWidth;\n        var nextSize = {\n          height: height,\n          width: width,\n          scrollHeight: scrollHeight,\n          scrollWidth: scrollWidth\n        };\n        var isNewHeight = isHeightChange(prevSize, nextSize);\n        var isNewWidth = isWidthChange(prevSize, nextSize);\n        prevSize = nextSize;\n\n        if (isNewHeight && !disableHeight || isNewWidth && !disableWidth) {\n          onResize(__assign(__assign({}, nextSize), {\n            element: target_1\n          }));\n        }\n      }\n    });\n    observer.observe(resizeTarget);\n    return function () {\n      observer.unobserve(resizeTarget);\n      observer.disconnect();\n    };\n  }, [target, onResize, disableHeight, disableWidth]);\n}","map":{"version":3,"sources":["../../src/sizing/useResizeObserverV1.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA,SAA2B,SAA3B,QAA4C,OAA5C;AACA,SAAS,cAAT,QAA+B,yBAA/B;AAgCA;;AAEG;;AACH,IAAM,WAAW,GAAG,UAClB,MADkB,EACU;AAE5B,SAAA,CAAC,CAAC,MAAF,IACA,OAAQ,MAA+C,CAAC,OAAxD,KACE,WAFF;AAEa,CALf;AAOA;;AAEG;;;AACH,IAAM,gBAAgB,GAAG,UAAC,MAAD,EAA6B;AACpD,SAAA,OAAO,MAAP,KAAkB,UAAlB;AAA4B,CAD9B;AAGA;;;;AAIG;;;AACH,OAAM,SAAU,uBAAV,CACJ,MADI,EACwB;AAE5B,MAAI,WAAW,CAAC,MAAD,CAAf,EAAyB;AACvB,WAAO,MAAM,CAAC,OAAd;AACD;;AAED,MAAI,gBAAgB,CAAC,MAAD,CAApB,EAA8B;AAC5B,WAAO,MAAM,EAAb;AACD;;AAED,MAAI,OAAO,MAAP,KAAkB,QAAtB,EAAgC;AAC9B,WAAO,QAAQ,CAAC,aAAT,CAAoC,MAApC,CAAP;AACD;;AAED,SAAO,MAAP;AACD;AAED;;;AAGG;;AACH,OAAM,SAAU,cAAV,CACJ,QADI,EAEJ,QAFI,EAEiB;AAErB,SACE,CAAC,QAAD,IACA,QAAQ,CAAC,MAAT,KAAoB,QAAQ,CAAC,MAD7B,IAEA,QAAQ,CAAC,YAAT,KAA0B,QAAQ,CAAC,YAHrC;AAKD;AAED;;;AAGG;;AACH,OAAM,SAAU,aAAV,CACJ,QADI,EAEJ,QAFI,EAEiB;AAErB,SACE,CAAC,QAAD,IACA,QAAQ,CAAC,KAAT,KAAmB,QAAQ,CAAC,KAD5B,IAEA,QAAQ,CAAC,WAAT,KAAyB,QAAQ,CAAC,WAHpC;AAKD;AAkDD;;AAEG;;AACH,OAAO,IAAM,UAAU,GAAG;AACxB,EAAA,IAAI,EAAE,KADkB;AAExB,EAAA,IAAI,EAAE;AAFkB,CAAnB;AAKP;;;;;;AAMG;;AACH,OAAM,SAAU,mBAAV,CAAqD,EAArD,EAK0B;;;MAJ9B,EAAA,GAAA,EAAA,CAAA,a;MAAA,aAAa,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,KAAH,GAAQ,E;MACrB,EAAA,GAAA,EAAA,CAAA,Y;MAAA,YAAY,GAAA,EAAA,KAAA,KAAA,CAAA,GAAG,KAAH,GAAQ,E;MACpB,QAAQ,GAAA,EAAA,CAAA,Q;MACR,MAAM,GAAA,EAAA,CAAA,M;;AAEN,MAAI,OAAO,CAAC,GAAR,CAAY,QAAZ,KAAyB,YAA7B,EAA2C;AACzC,QAAM,KAAK,GAAG,CAAA,EAAA,GAAA,IAAI,KAAJ,GAAY,KAAZ,MAAiB,IAAjB,IAAiB,EAAA,KAAA,KAAA,CAAjB,GAAiB,EAAjB,GAAqB,EAAnC;AACA,QAAM,MAAM,GAAG,KAAK,CAAC,QAAN,CAAe,oBAAf,CAAf;AACA,QAAM,GAAG,GAAI,MAAM,GAAG,MAAH,GAAY,MAA/B;;AACA,QAAI,CAAC,UAAU,CAAC,GAAD,CAAf,EAAsB;AACpB,MAAA,UAAU,CAAC,GAAD,CAAV,GAAkB,IAAlB;AACA,UAAI,OAAO,GAAA,KAAA,CAAX;;AACA,UAAI,MAAJ,EAAY;AACV,QAAA,OAAO,GAAG,sHAAV;AACD,OAFD,MAEO;AACL,QAAA,OAAO,GAAG,yHAAV;AACA,QAAA,OAAO,GAAM,OAAO,GAAA,wFAApB;AACD,OARmB,CAUpB;;;AACA,MAAA,OAAO,CAAC,IAAR,CACK,OAAO,GAAA,6EADZ;AAGD;AACF;;AAED,EAAA,SAAS,CAAC,YAAA;AACR,QAAI,aAAa,IAAI,YAArB,EAAmC;AACjC;AACD;;AAED,QAAM,YAAY,GAAG,uBAAuB,CAAC,MAAD,CAA5C;;AACA,QAAI,CAAC,YAAL,EAAmB;AACjB;AACD;;AAED,QAAI,QAAJ;AACA,QAAM,QAAQ,GAAG,IAAI,cAAJ,CAAmB,UAAC,OAAD,EAAQ;AAC1C,WAAK,IAAI,CAAC,GAAG,CAAb,EAAgB,CAAC,GAAG,OAAO,CAAC,MAA5B,EAAoC,CAAC,IAAI,CAAzC,EAA4C;AAC1C,YAAM,KAAK,GAAG,OAAO,CAAC,CAAD,CAArB;AACA,YAAM,QAAM,GAAG,KAAK,CAAC,MAArB;AACM,YAAA,EAAA,GAAoB,KAAK,CAAC,WAA1B;AAAA,YAAE,MAAM,GAAA,EAAA,CAAA,MAAR;AAAA,YAAU,KAAK,GAAA,EAAA,CAAA,KAAf;AACE,YAAA,YAAY,GAAkB,QAAM,CAAxB,YAAZ;AAAA,YAAc,WAAW,GAAK,QAAM,CAAX,WAAzB;AACR,YAAM,QAAQ,GAAgB;AAC5B,UAAA,MAAM,EAAA,MADsB;AAE5B,UAAA,KAAK,EAAA,KAFuB;AAG5B,UAAA,YAAY,EAAA,YAHgB;AAI5B,UAAA,WAAW,EAAA;AAJiB,SAA9B;AAOA,YAAM,WAAW,GAAG,cAAc,CAAC,QAAD,EAAW,QAAX,CAAlC;AACA,YAAM,UAAU,GAAG,aAAa,CAAC,QAAD,EAAW,QAAX,CAAhC;AACA,QAAA,QAAQ,GAAG,QAAX;;AACA,YAAK,WAAW,IAAI,CAAC,aAAjB,IAAoC,UAAU,IAAI,CAAC,YAAvD,EAAsE;AACpE,UAAA,QAAQ,CAAA,QAAA,CAAA,QAAA,CAAA,EAAA,EACH,QADG,CAAA,EACK;AACX,YAAA,OAAO,EAAE;AADE,WADL,CAAA,CAAR;AAID;AACF;AACF,KAvBgB,CAAjB;AAwBA,IAAA,QAAQ,CAAC,OAAT,CAAiB,YAAjB;AAEA,WAAO,YAAA;AACL,MAAA,QAAQ,CAAC,SAAT,CAAmB,YAAnB;AACA,MAAA,QAAQ,CAAC,UAAT;AACD,KAHD;AAID,GAzCQ,EAyCN,CAAC,MAAD,EAAS,QAAT,EAAmB,aAAnB,EAAkC,YAAlC,CAzCM,CAAT;AA0CD","sourceRoot":"","sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { useEffect } from \"react\";\nimport { ResizeObserver } from \"@juggle/resize-observer\";\n/**\n * @internal\n */\nvar isRefTarget = function (target) {\n    return !!target &&\n        typeof target.current !==\n            \"undefined\";\n};\n/**\n * @internal\n */\nvar isFunctionTarget = function (target) {\n    return typeof target === \"function\";\n};\n/**\n * A utility function to get the current resize observer element.\n *\n * @internal\n */\nexport function getResizeObserverTarget(target) {\n    if (isRefTarget(target)) {\n        return target.current;\n    }\n    if (isFunctionTarget(target)) {\n        return target();\n    }\n    if (typeof target === \"string\") {\n        return document.querySelector(target);\n    }\n    return target;\n}\n/**\n *\n * @internal\n */\nexport function isHeightChange(prevSize, nextSize) {\n    return (!prevSize ||\n        prevSize.height !== nextSize.height ||\n        prevSize.scrollHeight !== nextSize.scrollHeight);\n}\n/**\n *\n * @internal\n */\nexport function isWidthChange(prevSize, nextSize) {\n    return (!prevSize ||\n        prevSize.width !== nextSize.width ||\n        prevSize.scrollWidth !== nextSize.scrollWidth);\n}\n/**\n * @internal\n */\nexport var warnedOnce = {\n    hook: false,\n    comp: false,\n};\n/**\n * A hook that is used to trigger esize events when a target element is resized\n * via CSS or other changes.\n *\n * @param options - The resize observer options.\n * @deprecated 2.3.0 Use the new ref API instead\n */\nexport function useResizeObserverV1(_a) {\n    var _b;\n    var _c = _a.disableHeight, disableHeight = _c === void 0 ? false : _c, _d = _a.disableWidth, disableWidth = _d === void 0 ? false : _d, onResize = _a.onResize, target = _a.target;\n    if (process.env.NODE_ENV !== \"production\") {\n        var stack = (_b = new Error().stack) !== null && _b !== void 0 ? _b : \"\";\n        var isComp = stack.includes(\"at ResizeObserver \");\n        var key = (isComp ? \"comp\" : \"hook\");\n        if (!warnedOnce[key]) {\n            warnedOnce[key] = true;\n            var message = void 0;\n            if (isComp) {\n                message = \"The `ResizeObserver` component has been deprecated in favor of the new `useResizeObserver` hook using the `ref` API.\";\n            }\n            else {\n                message = \"The `useResizeObserver` hook has deprecated the ability to use an object containing a `target` and `onResize` callback.\";\n                message = message + \" Switch to the new `ref` API by setting the `onResize` callback as the first argument.\";\n            }\n            // eslint-disable-next-line no-console\n            console.warn(message + \" Please see https://github.com/mlaursen/react-md/pull/940 for more details.\");\n        }\n    }\n    useEffect(function () {\n        if (disableHeight && disableWidth) {\n            return;\n        }\n        var resizeTarget = getResizeObserverTarget(target);\n        if (!resizeTarget) {\n            return;\n        }\n        var prevSize;\n        var observer = new ResizeObserver(function (entries) {\n            for (var i = 0; i < entries.length; i += 1) {\n                var entry = entries[i];\n                var target_1 = entry.target;\n                var _a = entry.contentRect, height = _a.height, width = _a.width;\n                var scrollHeight = target_1.scrollHeight, scrollWidth = target_1.scrollWidth;\n                var nextSize = {\n                    height: height,\n                    width: width,\n                    scrollHeight: scrollHeight,\n                    scrollWidth: scrollWidth,\n                };\n                var isNewHeight = isHeightChange(prevSize, nextSize);\n                var isNewWidth = isWidthChange(prevSize, nextSize);\n                prevSize = nextSize;\n                if ((isNewHeight && !disableHeight) || (isNewWidth && !disableWidth)) {\n                    onResize(__assign(__assign({}, nextSize), { element: target_1 }));\n                }\n            }\n        });\n        observer.observe(resizeTarget);\n        return function () {\n            observer.unobserve(resizeTarget);\n            observer.disconnect();\n        };\n    }, [target, onResize, disableHeight, disableWidth]);\n}\n//# sourceMappingURL=useResizeObserverV1.js.map"]},"metadata":{},"sourceType":"module"}