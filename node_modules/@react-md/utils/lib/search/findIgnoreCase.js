"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.findIgnoreCase = void 0;
var defaults_1 = require("../defaults");
var utils_1 = require("./utils");
/**
 * This is a simple `array.find` implementation that will work for any
 * searchable item type and return the first item that starts with the current
 * query string ignoring case.
 *
 * @param query - The current query string to use to match with
 * @param searchable - The list of searchable items
 * @param options - The additional search options available.
 * @returns the found item in the searchable list or null
 */
function findIgnoreCase(query, searchable, options) {
    if (options === void 0) { options = {}; }
    var _a = defaults_1.defaults(options, utils_1.DEFAULT_SEARCH_OPTIONS), getItemValue = _a.getItemValue, valueKey = _a.valueKey, trim = _a.trim, ignoreWhitespace = _a.ignoreWhitespace;
    query = utils_1.getSearchString(query, true, trim, ignoreWhitespace);
    if (!query.length || !searchable.length) {
        return null;
    }
    var found = searchable.find(function (item) {
        var value = utils_1.getSearchString(getItemValue(item, valueKey), true, trim, ignoreWhitespace);
        return value.indexOf(query) === 0;
    });
    return typeof found === "number" ? found : found || null;
}
exports.findIgnoreCase = findIgnoreCase;
//# sourceMappingURL=findIgnoreCase.js.map