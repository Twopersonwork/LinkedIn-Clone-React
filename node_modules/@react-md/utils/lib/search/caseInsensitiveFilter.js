"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.caseInsensitiveFilter = void 0;
var defaults_1 = require("../defaults");
var utils_1 = require("./utils");
/**
 * Filters a list by ensuring that all items contain the query string in order
 * anywhere in it's own value.
 *
 * @param query - The current query string
 * @param searchable - The list of searchable items that should be filtered
 * @param options - All the search options to use
 * @returns A filtered list of all the searchable items based on the query
 * string.
 */
function caseInsensitiveFilter(query, searchable, options) {
    if (options === void 0) { options = {}; }
    var _a = defaults_1.defaults(options, utils_1.DEFAULT_SEARCH_OPTIONS), getItemValue = _a.getItemValue, valueKey = _a.valueKey, trim = _a.trim, ignoreWhitespace = _a.ignoreWhitespace, _b = _a.startsWith, startsWith = _b === void 0 ? false : _b;
    query = utils_1.getSearchString(query, true, trim, ignoreWhitespace);
    if (!query || !searchable.length) {
        return searchable;
    }
    return searchable.filter(function (item) {
        var value = utils_1.getSearchString(getItemValue(item, valueKey), true, trim, ignoreWhitespace);
        if (startsWith) {
            return value.indexOf(query) === 0;
        }
        return value.indexOf(query) !== -1;
    });
}
exports.caseInsensitiveFilter = caseInsensitiveFilter;
//# sourceMappingURL=caseInsensitiveFilter.js.map